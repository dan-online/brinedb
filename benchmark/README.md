# BrineDB Benchmark

To run the benchmark, you need to follow these steps:

1. Run ``docker compose up -d``
2. Run ``cd .. && yarn release-native && cd benchmark``
3. Run ``yarn bench``

The benchmark will run and output the results to the console.

## Benchmark Results

Valid as of 2024-04-07

```bash
😃 Results for: SQLite (Memory)
┌─────────┬───────────┬──────────┬───────────────────┬──────────┬─────────┬───────────────────┐
│ (index) │ Task Name │ ops/sec  │ Average Time (ns) │ Margin   │ Samples │ Average Time (ms) │
├─────────┼───────────┼──────────┼───────────────────┼──────────┼─────────┼───────────────────┤
│ 0       │ 'get'     │ '19,244' │ 51962.33089113228 │ '±1.74%' │ 19245   │ '0.052'           │
│ 1       │ 'set'     │ '18,509' │ 54027.41947847479 │ '±2.45%' │ 18523   │ '0.054'           │
│ 2       │ 'count'   │ '4,056'  │ 246511.4823761241 │ '±0.25%' │ 4057    │ '0.247'           │
│ 3       │ 'setMany' │ '1,186'  │ 842960.5206401688 │ '±4.24%' │ 1187    │ '0.843'           │
└─────────┴───────────┴──────────┴───────────────────┴──────────┴─────────┴───────────────────┘

😃 Results for: SQLite (File)
┌─────────┬───────────┬──────────┬────────────────────┬──────────┬─────────┬───────────────────┐
│ (index) │ Task Name │ ops/sec  │ Average Time (ns)  │ Margin   │ Samples │ Average Time (ms) │
├─────────┼───────────┼──────────┼────────────────────┼──────────┼─────────┼───────────────────┤
│ 0       │ 'get'     │ '17,053' │ 58637.99859266467  │ '±1.57%' │ 17054   │ '0.059'           │
│ 1       │ 'set'     │ '98'     │ 10146073.959595695 │ '±6.38%' │ 99      │ '10.146'          │
│ 2       │ 'count'   │ '189'    │ 5266332.842932184  │ '±1.59%' │ 191     │ '5.266'           │
│ 3       │ 'setMany' │ '1,475'  │ 677721.3696680956  │ '±4.24%' │ 1477    │ '0.678'           │
└─────────┴───────────┴──────────┴────────────────────┴──────────┴─────────┴───────────────────┘

😃 Results for: PostgreSQL
┌─────────┬───────────┬─────────┬────────────────────┬──────────┬─────────┬───────────────────┐
│ (index) │ Task Name │ ops/sec │ Average Time (ns)  │ Margin   │ Samples │ Average Time (ms) │
├─────────┼───────────┼─────────┼────────────────────┼──────────┼─────────┼───────────────────┤
│ 0       │ 'get'     │ '4,884' │ 204745.00000005757 │ '±1.48%' │ 4885    │ '0.205'           │
│ 1       │ 'set'     │ '1,730' │ 577933.152512942   │ '±1.78%' │ 1731    │ '0.578'           │
│ 2       │ 'count'   │ '12'    │ 80366305.00000095  │ '±1.26%' │ 13      │ '80.366'          │
│ 3       │ 'setMany' │ '445'   │ 2243906.7219727584 │ '±2.40%' │ 446     │ '2.244'           │
└─────────┴───────────┴─────────┴────────────────────┴──────────┴─────────┴───────────────────┘

😃 Results for: MySQL
┌─────────┬───────────┬─────────┬────────────────────┬───────────┬─────────┬───────────────────┐
│ (index) │ Task Name │ ops/sec │ Average Time (ns)  │ Margin    │ Samples │ Average Time (ms) │
├─────────┼───────────┼─────────┼────────────────────┼───────────┼─────────┼───────────────────┤
│ 0       │ 'get'     │ '3,631' │ 275340.9485132162  │ '±1.28%'  │ 3632    │ '0.275'           │
│ 1       │ 'set'     │ '399'   │ 2502239.482499499  │ '±12.75%' │ 400     │ '2.502'           │
│ 2       │ 'count'   │ '11'    │ 84151469.41666414  │ '±19.07%' │ 12      │ '84.151'          │
│ 3       │ 'setMany' │ '747'   │ 1337851.9331546512 │ '±2.58%'  │ 748     │ '1.338'           │
└─────────┴───────────┴─────────┴────────────────────┴───────────┴─────────┴───────────────────┘

😃 Results for: MariaDB
┌─────────┬───────────┬─────────┬────────────────────┬──────────┬─────────┬───────────────────┐
│ (index) │ Task Name │ ops/sec │ Average Time (ns)  │ Margin   │ Samples │ Average Time (ms) │
├─────────┼───────────┼─────────┼────────────────────┼──────────┼─────────┼───────────────────┤
│ 0       │ 'get'     │ '3,572' │ 279935.25776648754 │ '±2.08%' │ 3573    │ '0.280'           │
│ 1       │ 'set'     │ '1,215' │ 822408.2055921347  │ '±6.10%' │ 1216    │ '0.822'           │
│ 2       │ 'count'   │ '1'     │ 977628002.3000028  │ '±2.41%' │ 10      │ '977.628'         │
│ 3       │ 'setMany' │ '630'   │ 1584830.0000005558 │ '±2.99%' │ 631     │ '1.585'           │
└─────────┴───────────┴─────────┴────────────────────┴──────────┴─────────┴───────────────────┘
```